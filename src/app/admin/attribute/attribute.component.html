<app-sidebar [page8]="page8"></app-sidebar>
<div class="containerrr">
    <div class="nav">
        <div id="brand">
            <img src="../../../assets/Logo.png" alt="logo" height="50rem" width="180rem">
        </div>
        <div class="logout" (click)="logOut()">
            <a class="logbutton">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"  fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
                    <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
              </svg>
              <span style="padding-left:10px">Log out</span>
            </a>
            </div>
    </div>
    <div class="title" id="one">
        <span id="title">Product Attributes</span>
    </div>



    <div class="content-back">
        <div class="row">

            <!-- Category List Part -->
            <div class="col">
                <div class="content">
            <div class="subtitle">
                <span class="categ-list-subtitle">Product Attributes List</span>
                <a (click)="newAttributeButton()" style="cursor:pointer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg></a>
            </div>

            <ul class="catlist">
                <div *ngFor="let attibute of listA; let i = index">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span> {{attibute.name}} </span>
                        <span>
                            <button><a (click)="deleteAttributeButton(attibute.id,i)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                            </svg></a></button>
                        </span>
                    </li>
                    <ul>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>
                                <a *ngIf="!dropV[i]" (click)="showValues(i)" style="margin-right: 5px ;" >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                                    </svg>
                            </a>
                            <a *ngIf="dropV[i]" (click)="showValues(i)" style="margin-right: 5px ;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </a>
                                Values
                            </span>
                            <span>
                                <button><a (click)="addValueButton(i)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg></a></button>
                            </span>
                        </li>
                        <ul *ngIf="dropV[i]">
                            <div *ngFor="let val of listA[i].values; let index = index">
                                <li  class="list-group-item d-flex justify-content-between align-items-center">
                                    <span>{{val.value}}</span>
                                    <span>
                                        <button><a (click)="deleteValue(val.id,index,i)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                        </svg></a></button>
                                    </span>
                                </li>
                            </div>
                            <li *ngIf="inputV[i]" class="list-group-item d-flex justify-content-between align-items-center">
                                <form (ngSubmit)="addValue(attibute.id,i)" style="width:100%">
                                    <span>
                                    <span><input type="text"  name="newSub" [(ngModel)]="newValue"></span>
                                    <span style="float:right">
                                    <button type="submit">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green" class="bi bi-check-circle" viewBox="0 0 16 16">
                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                        <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
                                    </svg>
                                    </button>
                                    <button><a (click)="cancelValue(i)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                        </svg>
                                    </a></button>
                                    </span>
                                </span>
                                </form>
                            </li>
                        </ul>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>
                                <a *ngIf="!dropS[i]" (click)="showSubcategories(i)" style="margin-right: 5px ;" >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                                    </svg>
                            </a>
                            <a *ngIf="dropS[i]" (click)="showSubcategories(i)" style="margin-right: 5px ;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </a>
                                Subcategories
                            </span>
                            <span>
                                <button><a (click)="addSubcategoryButton(i)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg></a></button>
                            </span>
                        </li>

                        <ul *ngIf="dropS[i]">
                            <div *ngFor="let sub of listA[i].subcategories;let v = index">
                                <li  class="list-group-item d-flex justify-content-between align-items-center">
                                    <span>{{sub.categoryName}}/{{sub.name}}</span>
                                    <span>

                                        <button><a (click)="deleteSubcategory(sub,attibute.id,i,v )"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                        </svg></a></button>
                                    </span>
                                </li>
                            </div>
                            <li *ngIf="inputS[i]" class="list-group-item d-flex justify-content-between align-items-center">

                                    <div>
                                        <div (mouseleave)="showDropDown[i] = false">
                                            <button class="drop-toggle btn flat" (click)="showDropDown[i]=!showDropDown[i]">
                                                <span>Select</span>
                                                <i class="fa fa-angle-down"></i>
                                            </button>
                                            <div class="drop-show" *ngIf="showDropDown[i]">
                                                <label *ngFor="let a of list;">
                                                    <input type="checkbox" checked *ngIf="func(attibute.subcategories,a)"
                                                        (change)="getSelectedValue(!func(attibute.subcategories,a),a,attibute.id,i)" />
                                                    <input type="checkbox" *ngIf="!func(attibute.subcategories,a)"
                                                        (change)="getSelectedValue(!func(attibute.subcategories,a),a,attibute.id,i)" />
                                                    <span>{{a.categoryName}}/{{a.name}}</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                            </li>
                        </ul>
                    </ul>

                </div>
                <li *ngIf="addAttributeWasPressed" class="list-group-item d-flex justify-content-between align-items-center">
                    <form (ngSubmit)="addAttribute()" style="width:100%">
                        <input type="text" name="newAtt" [(ngModel)]="newAttribute">
                        <span style="float:right">
                        <button type="submit">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green" class="bi bi-check-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
                            </svg>
                        </button>
                        <button ><a (click)="cancelAttribute()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                            </svg>
                        </a></button>
                    </span>
                    </form>
                </li>
            </ul>

        </div>
    </div>
    </div>
    </div>
    <div class="footer">
        <span id="footer-text"> 2022 @Vermillion Admin Page</span>
    </div>
</div>

